<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/19"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.clientFX.CtrlGame"
            minWidth="950.0" minHeight="650.0"
            style="-fx-background-color: linear-gradient(to bottom, #f2d16b, #d3a243);">
    <children>

        <!-- Título -->
        <Label text="Connecta 4"
               AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0"
               AnchorPane.topAnchor="10.0" alignment="CENTER"
               textFill="#1e1e2f">
            <font>
                <Font name="Segoe UI Black" size="40.0"/>
            </font>
            <effect>
                <DropShadow color="#00000040" radius="6.0"/>
            </effect>
        </Label>

        <!-- Panel superior: Jugadores y turno -->
        <HBox alignment="CENTER" spacing="50"
              AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="20.0"
              AnchorPane.topAnchor="70.0" minHeight="80"
              style="-fx-background-color: rgba(255,255,255,0.35); -fx-background-radius: 20; -fx-padding: 10;">
            <effect>
                <DropShadow color="#00000030" radius="6.0"/>
            </effect>
            
            <!-- Jugador -->
            <VBox alignment="CENTER">
                <Label text="Tu:" textFill="#1e1e2f" style="-fx-font-weight: bold; -fx-font-size: 15px;"/>
                <Label fx:id="lblPlayerName" text="---" textFill="#2c3e50" style="-fx-font-size: 17px;"/>
                <Label fx:id="lblYourRole" text="(R)" style="-fx-font-size: 16px; -fx-text-fill: #e63946;"/>
            </VBox>

            <Label text="VS" textFill="#1e1e2f" style="-fx-font-weight: bold; -fx-font-size: 22px;"/>

            <!-- Oponente -->
            <VBox alignment="CENTER">
                <Label text="Oponent:" textFill="#1e1e2f" style="-fx-font-weight: bold; -fx-font-size: 15px;"/>
                <Label fx:id="lblOpponentName" text="---" textFill="#2c3e50" style="-fx-font-size: 17px;"/>
                <Label fx:id="lblOpponentRole" text="(Y)" style="-fx-font-size: 16px; -fx-text-fill: #ffcc00;"/>
            </VBox>

            <!-- Turno -->
            <VBox alignment="CENTER">
                <Label text="Torn:" textFill="#1e1e2f" style="-fx-font-weight: bold; -fx-font-size: 15px;"/>
                <Label fx:id="lblTurnIndicator" text="Esperant..."
                       style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-style: italic;"/>
            </VBox>
        </HBox>

        <!-- Contenedor: Tablero + Fichas -->
        <HBox spacing="30"
              AnchorPane.topAnchor="180.0"
              AnchorPane.leftAnchor="40.0" AnchorPane.rightAnchor="40.0">
            
            <!-- Tablero -->
            <Canvas fx:id="canvas" width="560" height="480"
                    style="-fx-background-color: linear-gradient(to bottom, #1e1e2f, #2c2c54);
                           -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, #00000050, 10, 0, 0, 5);"/>

            <!-- Panel lateral de fichas -->
            <VBox spacing="20" alignment="TOP_CENTER"
                  style="-fx-background-color: rgba(255,255,255,0.3); -fx-background-radius: 20; -fx-padding: 20;">
                <effect>
                    <DropShadow color="#00000040" radius="8.0"/>
                </effect>

                <Label text="Les teves fitxes" textFill="#1e1e2f" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                <Pane fx:id="paneYourPieces" prefWidth="120" prefHeight="240"
                      style="-fx-border-color: #2c3e50; -fx-border-radius: 10; -fx-border-width: 2; -fx-background-radius: 10; -fx-background-color: #fffdf5;"/>
                
                <Label text="Fitxes rival" textFill="#1e1e2f" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                <Pane fx:id="paneOpponentPieces" prefWidth="120" prefHeight="240"
                      style="-fx-border-color: #2c3e50; -fx-border-radius: 10; -fx-border-width: 2; -fx-background-radius: 10; -fx-background-color: #fffdf5;"/>
            </VBox>
        </HBox>

        <!-- Instrucción inferior -->
        <Label text="Arrossega una fitxa a una columna"
               AnchorPane.leftAnchor="20.0" AnchorPane.bottomAnchor="20.0"
               textFill="#1e1e2f">
            <font>
                <Font name="Segoe UI Italic" size="15.0"/>
            </font>
            <effect>
                <DropShadow color="#00000030" radius="3.0"/>
            </effect>
        </Label>
    </children>
</AnchorPane>
